<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Documenter.jl extension · ModelicaScriptingTools.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="ModelicaScriptingTools.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit">ModelicaScriptingTools.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Introduction</a></li><li><a class="tocitem" href="../api/">API</a></li><li class="is-active"><a class="tocitem" href>Documenter.jl extension</a><ul class="internal"><li><a class="tocitem" href="#Quick-start"><span>Quick start</span></a></li><li><a class="tocitem" href="#Detailed-setup-guide"><span>Detailed setup guide</span></a></li><li><a class="tocitem" href="#Features-and-Example"><span>Features and Example</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Documenter.jl extension</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Documenter.jl extension</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/THM-MoTE/ModelicaScriptingTools.jl/blob/master/docs/src/documentation.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Documenter.jl-extension"><a class="docs-heading-anchor" href="#Documenter.jl-extension">Documenter.jl extension</a><a id="Documenter.jl-extension-1"></a><a class="docs-heading-anchor-permalink" href="#Documenter.jl-extension" title="Permalink"></a></h1><p>MoST.jl allows to generate documentation for Modelica models with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a>.</p><h2 id="Quick-start"><a class="docs-heading-anchor" href="#Quick-start">Quick start</a><a id="Quick-start-1"></a><a class="docs-heading-anchor-permalink" href="#Quick-start" title="Permalink"></a></h2><p>To use the Documenter.jl extensions, you have to follow the <a href="https://juliadocs.github.io/Documenter.jl/stable/man/guide/">Documenter.jl Guide</a> for setting up a documentation folder in your project. Within the file <code>make.jl</code> you then have to add the line <code>using ModelicaScriptingTools</code>.</p><p>You can now add a piece of code like the following in your markdown files:</p><pre><code class="language-none">```@modelica
%modeldir = ../../src
MyPackage.MyFirstModel
MyOtherPackage.MySecondModel
```</code></pre><p>This will display documentation for the two models <code>MyPackage.MyFirstModel</code> and <code>MyOtherPackage.MySecondModel</code> which are both assumed to be found in the folder <code>../../src</code>, which is relative to the working directory where Documenter.jl places its output (usually a folder called <code>build</code> in the directory where <code>make.jl</code> is located).</p><h2 id="Detailed-setup-guide"><a class="docs-heading-anchor" href="#Detailed-setup-guide">Detailed setup guide</a><a id="Detailed-setup-guide-1"></a><a class="docs-heading-anchor-permalink" href="#Detailed-setup-guide" title="Permalink"></a></h2><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>This section of the documentation is work in progress.</p></div></div><ul><li><code>julia -e &#39;using Pkg; Pkg.add(&quot;Documenter&quot;); Pkg.add(&quot;DocumenterTools&quot;)&#39;</code></li><li><code>julia -e &#39;using DocumenterTools; DocumenterTools.generate(&quot;docs&quot;; name=&quot;MyModelicaProject&quot;)&#39;</code></li><li><code>julia --project=docs/ -e &#39;using Pkg; Pkg.add(&quot;ModelicaScriptingTools&quot;)&#39;</code></li><li>Replace <code>using MyModelicaProject</code> with <code>using ModelicaScriptingTools</code> in <code>docs/make.jl</code>.</li><li>Also remove the line <code>modules = [MyModelicaProject]</code> and the <code>,</code> at the end of the previous line.</li></ul><h3 id="Deploy-docs-with-Travis-CI"><a class="docs-heading-anchor" href="#Deploy-docs-with-Travis-CI">Deploy docs with Travis CI</a><a id="Deploy-docs-with-Travis-CI-1"></a><a class="docs-heading-anchor-permalink" href="#Deploy-docs-with-Travis-CI" title="Permalink"></a></h3><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>This section of the documentation is work in progress.</p></div></div><ul><li>Add this to <code>make.jl</code>:   <code>deploydocs(       repo = &quot;github.com/MyGithubUsername/MyRepo.git&quot;,   )</code></li><li>Add this to <code>.travis.yml</code><ul><li><code>- export PYTHON=&quot;&quot;</code></li><li><code>- julia --project=docs/ -e &quot;using Pkg; Pkg.instantiate()&quot;</code></li><li><code>- julia --project=docs/ docs/make.jl</code></li></ul></li><li><code>julia -e &#39;using DocumenterTools; DocumenterTools.genkeys(user=&quot;MyGithubUsername&quot;, repo=&quot;MyRepo&quot;)&#39;</code></li><li>Follow instructions</li></ul><h2 id="Features-and-Example"><a class="docs-heading-anchor" href="#Features-and-Example">Features and Example</a><a id="Features-and-Example-1"></a><a class="docs-heading-anchor-permalink" href="#Features-and-Example" title="Permalink"></a></h2><p>The following shows the documentation of the model <code>DocExample.mo</code> in the folder <code>test/res</code> of this project.</p>
        <p>This is an example documentation for the DocExample class.</p>
      <pre><code class="language-modelica">model DocExample
  parameter Real k = 2 &quot;some parameter&quot;;
  Modelica.SIunits.Voltage r(start = 0, fixed = true) &quot;some potential&quot;;

  model ExSub
    Modelica.SIunits.Voltage alias;
  end ExSub;

  ExSub sub(alias = r);
  Real foo &quot;second sample variable&quot;;

  function f
    input Real x;
    input Real y;
    output Real res;
  algorithm
    res := x ^ y + y;
  end f;

  function g
    input Real x;
    output Real y;
  algorithm
    y := x * 2;
  end g;
equation
  der(r) = 1 / g(foo);
  foo = f(r, k);
  annotation(
    experiment(StartTime = 0, StopTime = 5, Tolerance = 1e-6, Interval = 1e-1),
    __MoST_experiment(variableFilter = &quot;sub\\.alias&quot;),
    Documentation(info = &quot;
      &lt;html&gt;
        &lt;p&gt;This is an example documentation for the DocExample class.&lt;/p&gt;
      &lt;/html&gt;
    &quot;));
end DocExample;</code></pre><ol>
<li><math xmlns="http://www.w3.org/1998/Math/MathML">
<mrow><msup><mrow><mrow><mi> r 
</mi></mrow></mrow><mo>&#8242;</mo></msup><mo>&#8801;</mo><mrow><mn> 1.0 
</mn><mo>/</mo><mrow><mrow><mi>g</mi></mrow><mo>&#8289;</mo><mrow><mo>(</mo><mrow><mi> foo 
</mi></mrow><mo>)</mo></mrow></mrow></mrow></mrow>
</math>
<li><math xmlns="http://www.w3.org/1998/Math/MathML">
<mrow><mrow><mi> foo 
</mi></mrow><mo>&#8801;</mo><mrow><mrow><mi>f</mi></mrow><mo>&#8289;</mo><mrow><mo>(</mo><mrow><mi> r 
</mi></mrow><mo>,</mo><mrow><mi> k 
</mi></mrow><mo>)</mo></mrow></mrow></mrow>
</math>
</ol>
<table><tr><th style="text-align: right">name</th><th style="text-align: right">unit</th><th style="text-align: right">value</th><th style="text-align: right">label</th></tr><tr><td style="text-align: right">r</td><td style="text-align: right">&quot;V&quot;</td><td style="text-align: right">0.0</td><td style="text-align: right">some potential</td></tr><tr><td style="text-align: right">foo</td><td style="text-align: right"></td><td style="text-align: right"></td><td style="text-align: right">second sample variable</td></tr><tr><td style="text-align: right">k</td><td style="text-align: right"></td><td style="text-align: right">2.0</td><td style="text-align: right">some parameter</td></tr></table><p>Currently, the documentation features</p><ul><li>The HTML documentation in the <code>Documentation(info=...)</code> anotation.</li><li>The full code of the model.</li><li>A list of all equations of the model as presentation MathML (only available if the model can be instantiated using the <a href="https://www.openmodelica.org/doc/OpenModelicaUsersGuide/latest/scripting_api.html#instantiatemodel"><code>instantiateModel()</code></a> function of the OpenModelica Scripting API)</li><li>A table listing all variables and parameters of the model (also only available if the model can be instantiated)</li></ul><h3 id="Configuration-with-magic-lines"><a class="docs-heading-anchor" href="#Configuration-with-magic-lines">Configuration with magic lines</a><a id="Configuration-with-magic-lines-1"></a><a class="docs-heading-anchor-permalink" href="#Configuration-with-magic-lines" title="Permalink"></a></h3><p>The behavior of the MoST.jl documentation feature can be adjusted using &quot;magic&quot; lines that start with a <code>%</code>. These lines are not interpreted as model names, but instead are parsed to set configuration variables.</p><ul><li><code>%modeldir = some/dir</code> changes the directory from which models are loaded, which is given relative to the working directory where Documenter.jl places its output (usually a folder called <code>build</code> in the directory where <code>make.jl</code> is located).   The default location is <code>../</code>, which means that if your documentation lies in <code>docs</code> and your models are saved in the root directory of your project, you do not need to add this magic line.</li><li><code>%outdir = some/dir</code> changes the directory where output files will be placed.   Like <code>modeldir</code>, it is given relative to the working directory of Documenter.jl.   The default</li><li><code>%nocode</code> removes the model source code from the documentation output.</li><li><code>%noequations</code> removes the list of equations and variables from the documentation output.   This is a required step for models that cannot be instantiated using <code>instantiateModel()</code>.</li><li><code>%noinfo</code> removes the content of the <code>Documentation(info=...)</code> annotation from the documentation output.</li></ul><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>Magic lines always change the behavior of the whole <code>@modelica</code> block, regardless where they appear in the block. If the same type of line occurs multiple times, the last value takes precedence. If you need to load two models with separate settings, you therefore need to use two separate <code>@modelica</code> blocks.</p></div></div></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../api/">« API</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Monday 24 August 2020 11:10">Monday 24 August 2020</span>. Using Julia version 1.4.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
